<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
<toolkitModel xmlns="http://www.ibm.com/xmlns/prod/streams/spl/toolkit" productVersion="4.3.0.0" xmlns:common="http://www.ibm.com/xmlns/prod/streams/spl/common" xmlns:ti="http://www.ibm.com/xmlns/prod/streams/spl/toolkitInfo" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">

  <toolkit name="com.ibm.streamsx.iot" requiredProductVersion="4.2.0.0" version="1.2.0">
    <description>IoT integration including connectivity with IBM Watson IoT Platform.

This toolkit provides a model around IoT devices where devices produce events (for example, sensor data) and subscribe to commands (for example, control instructions, such as reduce maximum rpm for an engine).

Streams applications can use this toolkit to provide real time analytics against all the events from potentially thousands of devices, including sending commands to specific devices based upon the analytics.

As well as the general IoT device model, integration with IBM Watson IoT
Platform is provided allowing ease of connecting IBM Streams to
a IoT Platform service (including IBM Cloud).

See [namespace:com.ibm.streamsx.iot] for more details.

This toolkit depends on these toolkits:
* `com.ibm.streamsx.mqtt`
* `com.ibm.streamsx.json` 
* `com.ibm.streamsx.datetime`
* `com.ibm.streamsx.topology`

</description>
    <uriTable>
      <uri index="3" value="com.ibm.streamsx.iot.watson/alldevices.spl"/>
      <uri index="8" value="com.ibm.streamsx.iot/command.spl"/>
      <uri index="11" value="com.ibm.streamsx.iot/namespace-info.spl"/>
      <uri index="4" value="com.ibm.streamsx.iot.watson/device.spl"/>
      <uri index="9" value="com.ibm.streamsx.iot/extract.spl"/>
      <uri index="19" value="com.ibm.streamsx.iot.watson.apps/IotPlatform.spl"/>
      <uri index="17" value="com.ibm.streamsx.iot.watson.apps/IotPlatformBluemix.spl"/>
      <uri index="16" value="com.ibm.streamsx.iot.apps/ViewAllDevices.spl"/>
      <uri index="15" value="com.ibm.streamsx.iot.apps/namespace-info.spl"/>
      <uri index="14" value="com.ibm.streamsx.iot.watson.quickstart/namespace-info.spl"/>
      <uri index="12" value="com.ibm.streamsx.iot/types.spl"/>
      <uri index="6" value="com.ibm.streamsx.iot.watson/devicesubscribe.spl"/>
      <uri index="1" value="com.ibm.streamsx.iot.hub/hub.spl"/>
      <uri index="10" value="com.ibm.streamsx.iot/pubsub.spl"/>
      <uri index="2" value="com.ibm.streamsx.iot.hub/namespace-info.spl"/>
      <uri index="7" value="com.ibm.streamsx.iot.watson/devicepublish.spl"/>
      <uri index="13" value="com.ibm.streamsx.iot.watson.quickstart/quickstart.spl"/>
      <uri index="5" value="com.ibm.streamsx.iot.watson/namespace-info.spl"/>
      <uri index="18" value="com.ibm.streamsx.iot.watson.apps/namespace-info.spl"/>
    </uriTable>
    <namespace name="com.ibm.streamsx.iot.watson">
      <compositeOp column="18" line="23" name="AllDevices" potentialMain="false" public="true" uriIndex="3">
        <parameter metaType="Expression" name="org" optional="false" type="&lt;rstring>"/>
        <parameter defaultValue="&quot;internetofthings.ibmcloud.com&quot;" metaType="Expression" name="domain" optional="true" type="&lt;rstring>"/>
        <parameter metaType="Expression" name="authKey" optional="false" type="&lt;rstring>"/>
        <parameter metaType="Expression" name="authToken" optional="false" type="&lt;rstring>"/>
        <parameter defaultValue="true" metaType="Expression" name="encrypted" optional="true" type="&lt;boolean>"/>
        <outputPort name="Statuses" portIndex="0" type="stream&lt;DeviceStatus>"/>
        <outputPort name="Events" portIndex="1" type="stream&lt;DeviceEvent>"/>
        <outputPort name="Commands" portIndex="2" type="stream&lt;DeviceCmd>"/>
      </compositeOp>
      <compositeOp column="18" line="51" name="DeviceEvents" potentialMain="false" public="true" uriIndex="4">
        <parameter metaType="Expression" name="org" optional="false" type="&lt;rstring>"/>
        <parameter defaultValue="&quot;internetofthings.ibmcloud.com&quot;" metaType="Expression" name="domain" optional="true" type="&lt;rstring>"/>
        <parameter metaType="Expression" name="authKey" optional="false" type="&lt;rstring>"/>
        <parameter metaType="Expression" name="authToken" optional="false" type="&lt;rstring>"/>
        <parameter defaultValue="(rstring)jobID() + &quot;_evt&quot;" metaType="Expression" name="appId" optional="true" type="&lt;rstring>"/>
        <parameter defaultValue="&quot;+&quot;" metaType="Expression" name="typeId" optional="true" type="&lt;rstring>"/>
        <parameter defaultValue="&quot;+&quot;" metaType="Expression" name="deviceId" optional="true" type="&lt;rstring>"/>
        <parameter defaultValue="&quot;+&quot;" metaType="Expression" name="eventId" optional="true" type="&lt;rstring>"/>
        <parameter defaultValue="true" metaType="Expression" name="encrypted" optional="true" type="&lt;boolean>"/>
        <outputPort name="Events" portIndex="0" type="stream&lt;DeviceEvent>"/>
      </compositeOp>
      <compositeOp column="18" line="86" name="Raw2DeviceEvent" potentialMain="false" public="true" uriIndex="4">
        <inputPort name="RawEvents" portIndex="0"/>
        <outputPort name="Events" portIndex="0"/>
      </compositeOp>
      <compositeOp column="18" line="127" name="DeviceStatuses" potentialMain="false" public="true" uriIndex="4">
        <parameter metaType="Expression" name="org" optional="false" type="&lt;rstring>"/>
        <parameter defaultValue="&quot;internetofthings.ibmcloud.com&quot;" metaType="Expression" name="domain" optional="true" type="&lt;rstring>"/>
        <parameter defaultValue="(rstring)jobID() + &quot;_mon&quot;" metaType="Expression" name="appId" optional="true" type="&lt;rstring>"/>
        <parameter metaType="Expression" name="authKey" optional="false" type="&lt;rstring>"/>
        <parameter metaType="Expression" name="authToken" optional="false" type="&lt;rstring>"/>
        <parameter defaultValue="&quot;+&quot;" metaType="Expression" name="typeId" optional="true" type="&lt;rstring>"/>
        <parameter defaultValue="&quot;+&quot;" metaType="Expression" name="deviceId" optional="true" type="&lt;rstring>"/>
        <parameter defaultValue="true" metaType="Expression" name="encrypted" optional="true" type="&lt;boolean>"/>
        <outputPort name="Statuses" portIndex="0" type="stream&lt;DeviceStatus>"/>
      </compositeOp>
      <compositeOp column="18" line="189" name="DeviceCommands" potentialMain="false" public="true" uriIndex="4">
        <parameter metaType="Expression" name="org" optional="false" type="&lt;rstring>"/>
        <parameter defaultValue="&quot;internetofthings.ibmcloud.com&quot;" metaType="Expression" name="domain" optional="true" type="&lt;rstring>"/>
        <parameter metaType="Expression" name="authKey" optional="false" type="&lt;rstring>"/>
        <parameter metaType="Expression" name="authToken" optional="false" type="&lt;rstring>"/>
        <parameter defaultValue="(rstring)jobID() + &quot;_cmd&quot;" metaType="Expression" name="appId" optional="true" type="&lt;rstring>"/>
        <parameter defaultValue="&quot;+&quot;" metaType="Expression" name="typeId" optional="true" type="&lt;rstring>"/>
        <parameter defaultValue="&quot;+&quot;" metaType="Expression" name="deviceId" optional="true" type="&lt;rstring>"/>
        <parameter defaultValue="&quot;+&quot;" metaType="Expression" name="cmdId" optional="true" type="&lt;rstring>"/>
        <parameter defaultValue="true" metaType="Expression" name="encrypted" optional="true" type="&lt;boolean>"/>
        <outputPort name="Commands" portIndex="0" type="stream&lt;DeviceCmd>"/>
      </compositeOp>
      <compositeOp column="11" line="240" name="DeviceTopic" potentialMain="false" uriIndex="4">
        <parameter metaType="Expression" name="org" optional="false" type="&lt;rstring>"/>
        <parameter metaType="Expression" name="domain" optional="false" type="&lt;rstring>"/>
        <parameter metaType="Expression" name="appId" optional="false" type="&lt;rstring>"/>
        <parameter metaType="Expression" name="authKey" optional="false" type="&lt;rstring>"/>
        <parameter metaType="Expression" name="authToken" optional="false" type="&lt;rstring>"/>
        <parameter metaType="Expression" name="topic" optional="false" type="&lt;rstring>"/>
        <parameter metaType="Expression" name="encrypted" optional="false" type="&lt;boolean>"/>
        <outputPort name="Messages" portIndex="0"/>
      </compositeOp>
      <compositeOp column="18" line="296" name="SendCommandToDevice" potentialMain="false" public="true" uriIndex="4">
        <parameter metaType="Expression" name="org" optional="false" type="&lt;rstring>"/>
        <parameter defaultValue="&quot;internetofthings.ibmcloud.com&quot;" metaType="Expression" name="domain" optional="true" type="&lt;rstring>"/>
        <parameter defaultValue="(rstring)jobID() + &quot;_snd&quot;" metaType="Expression" name="appId" optional="true" type="&lt;rstring>"/>
        <parameter metaType="Expression" name="authKey" optional="false" type="&lt;rstring>"/>
        <parameter metaType="Expression" name="authToken" optional="false" type="&lt;rstring>"/>
        <parameter defaultValue="true" metaType="Expression" name="encrypted" optional="true" type="&lt;boolean>"/>
        <inputPort name="Commands" portIndex="0" type="stream&lt;DeviceCmd>"/>
      </compositeOp>
      <compositeOp column="18" line="26" name="SubscribeDeviceCommands" potentialMain="false" public="true" uriIndex="6">
        <parameter metaType="Expression" name="org" optional="false" type="&lt;rstring>"/>
        <parameter defaultValue="&quot;internetofthings.ibmcloud.com&quot;" metaType="Expression" name="domain" optional="true" type="&lt;rstring>"/>
        <parameter metaType="Expression" name="authKey" optional="false" type="&lt;rstring>"/>
        <parameter metaType="Expression" name="authToken" optional="false" type="&lt;rstring>"/>
        <parameter defaultValue="true" metaType="Expression" name="encrypted" optional="true" type="&lt;boolean>"/>
      </compositeOp>
      <compositeOp column="18" line="25" name="PublishDeviceStatuses" potentialMain="false" public="true" uriIndex="7">
        <parameter metaType="Expression" name="org" optional="false" type="&lt;rstring>"/>
        <parameter defaultValue="&quot;internetofthings.ibmcloud.com&quot;" metaType="Expression" name="domain" optional="true" type="&lt;rstring>"/>
        <parameter metaType="Expression" name="authKey" optional="false" type="&lt;rstring>"/>
        <parameter metaType="Expression" name="authToken" optional="false" type="&lt;rstring>"/>
        <parameter defaultValue="true" metaType="Expression" name="encrypted" optional="true" type="&lt;boolean>"/>
        <parameter defaultValue="true" metaType="Expression" name="allowFilter" optional="true" type="&lt;boolean>"/>
      </compositeOp>
      <compositeOp column="18" line="64" name="PublishDeviceEvents" potentialMain="false" public="true" uriIndex="7">
        <parameter metaType="Expression" name="org" optional="false" type="&lt;rstring>"/>
        <parameter defaultValue="&quot;internetofthings.ibmcloud.com&quot;" metaType="Expression" name="domain" optional="true" type="&lt;rstring>"/>
        <parameter metaType="Expression" name="authKey" optional="false" type="&lt;rstring>"/>
        <parameter metaType="Expression" name="authToken" optional="false" type="&lt;rstring>"/>
        <parameter defaultValue="true" metaType="Expression" name="encrypted" optional="true" type="&lt;boolean>"/>
        <parameter defaultValue="true" metaType="Expression" name="allowFilter" optional="true" type="&lt;boolean>"/>
      </compositeOp>
      <compositeOp column="18" line="103" name="PublishDeviceCommands" potentialMain="false" public="true" uriIndex="7">
        <parameter metaType="Expression" name="org" optional="false" type="&lt;rstring>"/>
        <parameter defaultValue="&quot;internetofthings.ibmcloud.com&quot;" metaType="Expression" name="domain" optional="true" type="&lt;rstring>"/>
        <parameter metaType="Expression" name="authKey" optional="false" type="&lt;rstring>"/>
        <parameter metaType="Expression" name="authToken" optional="false" type="&lt;rstring>"/>
        <parameter defaultValue="true" metaType="Expression" name="encrypted" optional="true" type="&lt;boolean>"/>
        <parameter defaultValue="true" metaType="Expression" name="allowFilter" optional="true" type="&lt;boolean>"/>
      </compositeOp>
      <function column="1" line="23" name="getIotfUri" native="false" returnType="rstring" uriIndex="4">
        <prototype>rstring getIotfUri(rstring org, rstring domain, boolean encrypted)</prototype>
        <parameter name="org" type="rstring"/>
        <parameter name="domain" type="rstring"/>
        <parameter name="encrypted" type="boolean"/>
      </function>
      <type column="6" line="17" name="RawMsg" static="true" type="Json, tuple&lt;rstring topic>" uriIndex="4"/>
    </namespace>
    <namespace name="com.ibm.streamsx.iot">
      <compositeOp column="18" line="61" name="CommandTupleToPayload" potentialMain="false" public="true" uriIndex="8">
        <parameter metaType="Attribute" name="payload" optional="false"/>
        <inputPort name="Commands" portIndex="0"/>
        <outputPort name="DeviceCommands" portIndex="0" type="stream&lt;DeviceCmd>"/>
      </compositeOp>
      <compositeOp column="18" line="42" name="DeviceEventExtractData" potentialMain="false" public="true" uriIndex="9">
        <parameter metaType="Expression" name="events" optional="false" type="&lt;boolean>"/>
        <parameter metaType="Type" name="dataType" optional="false"/>
        <inputPort name="Events" portIndex="0" type="stream&lt;DeviceEvent>"/>
        <outputPort name="EventsWithData" portIndex="0"/>
      </compositeOp>
      <compositeOp column="18" line="42" name="EventsSubscribe" potentialMain="false" public="true" uriIndex="10">
        <parameter defaultValue="[]" metaType="Expression" name="typeIds" optional="true" type="&lt;list&lt;rstring>>"/>
        <parameter defaultValue="[]" metaType="Expression" name="eventIds" optional="true" type="&lt;list&lt;rstring>>"/>
        <outputPort name="Events" portIndex="0" type="stream&lt;DeviceEvent>"/>
        <type column="15" line="50" name="_EventParam" static="true" type="tuple&lt;list&lt;rstring> typeIds, list&lt;rstring> eventIds>" uriIndex="10">
          <description>@exclude</description>
        </type>
      </compositeOp>
      <compositeOp column="18" line="92" name="CommandsSubscribe" potentialMain="false" public="true" uriIndex="10">
        <parameter defaultValue="[]" metaType="Expression" name="typeIds" optional="true" type="&lt;list&lt;rstring>>"/>
        <parameter defaultValue="[]" metaType="Expression" name="cmdIds" optional="true" type="&lt;list&lt;rstring>>"/>
        <outputPort name="Commands" portIndex="0" type="stream&lt;DeviceCmd>"/>
        <type column="15" line="100" name="_CmdParam" static="true" type="tuple&lt;list&lt;rstring> typeIds, list&lt;rstring> cmdIds>" uriIndex="10">
          <description>@exclude</description>
        </type>
      </compositeOp>
      <compositeOp column="18" line="140" name="StatusesSubscribe" potentialMain="false" public="true" uriIndex="10">
        <parameter defaultValue="[]" metaType="Expression" name="typeIds" optional="true" type="&lt;list&lt;rstring>>"/>
        <outputPort name="Statuses" portIndex="0" type="stream&lt;DeviceStatus>"/>
        <type column="15" line="147" name="_StatusParam" static="true" type="tuple&lt;list&lt;rstring> typeIds>" uriIndex="10">
          <description>@exclude</description>
        </type>
      </compositeOp>
      <compositeOp column="18" line="183" name="CommandPublish" potentialMain="false" public="true" uriIndex="10">
        <inputPort name="Commands" portIndex="0" type="stream&lt;DeviceCmd>"/>
      </compositeOp>
      <function column="1" line="68" name="filterEvents" native="false" public="true" returnType="boolean" uriIndex="10">
        <description>@exclude</description>
        <prototype>public boolean filterEvents(DeviceEvent e, EventsSubscribe._EventParam p)</prototype>
        <parameter name="e" type="DeviceEvent"/>
        <parameter name="p" type="EventsSubscribe._EventParam"/>
      </function>
      <function column="1" line="118" name="filterCommands" native="false" public="true" returnType="boolean" uriIndex="10">
        <description>@exclude</description>
        <prototype>public boolean filterCommands(DeviceCmd c, CommandsSubscribe._CmdParam p)</prototype>
        <parameter name="c" type="DeviceCmd"/>
        <parameter name="p" type="CommandsSubscribe._CmdParam"/>
      </function>
      <function column="1" line="164" name="filterStatuses" native="false" public="true" returnType="boolean" uriIndex="10">
        <prototype>public boolean filterStatuses(DeviceStatus s, StatusesSubscribe._StatusParam p)</prototype>
        <parameter name="s" type="DeviceStatus"/>
        <parameter name="p" type="StatusesSubscribe._StatusParam"/>
      </function>
      <type column="6" line="16" name="Device" static="true" type="tuple&lt;rstring typeId, rstring deviceId>" uriIndex="12"/>
      <type column="6" line="24" name="DeviceEventId" static="true" type="Device, tuple&lt;rstring eventId>" uriIndex="12"/>
      <type column="6" line="40" name="DeviceEvent" static="true" type="DeviceEventId, Json" uriIndex="12"/>
      <type column="6" line="52" name="DeviceEventTs" static="true" type="DeviceEventId, tuple&lt;TimeMillis eventTs>" uriIndex="12"/>
      <type column="6" line="61" name="DeviceStatus" static="true" type="Device, Json" uriIndex="12"/>
      <type column="6" line="69" name="DeviceCmdId" static="true" type="Device, tuple&lt;rstring cmdId>" uriIndex="12"/>
      <type column="6" line="85" name="DeviceCmd" static="true" type="DeviceCmdId, Json" uriIndex="12"/>
    </namespace>
    <namespace name="com.ibm.streamsx.iot.apps">
      <compositeOp column="18" line="41" name="ViewAllDevices" potentialMain="true" public="true" uriIndex="16"/>
    </namespace>
    <namespace name="com.ibm.streamsx.iot.watson.quickstart">
      <compositeOp column="18" line="39" name="Quickstart" potentialMain="true" public="true" uriIndex="13"/>
      <compositeOp column="18" line="67" name="QuickstartDeviceEvents" potentialMain="false" public="true" uriIndex="13">
        <parameter metaType="Expression" name="deviceId" optional="false" type="&lt;rstring>"/>
        <outputPort name="Events" portIndex="0" type="stream&lt;DeviceEvent>"/>
      </compositeOp>
      <compositeOp column="11" line="83" name="QSDeviceTopic" potentialMain="false" uriIndex="13">
        <parameter metaType="Expression" name="topic" optional="false" type="&lt;rstring>"/>
        <outputPort name="Messages" portIndex="0"/>
      </compositeOp>
      <type column="6" line="17" name="QSData" static="true" type="tuple&lt;float64 temp, float64 humidity, float64 objectTemp>" uriIndex="13"/>
    </namespace>
    <namespace name="com.ibm.streamsx.iot.hub">
      <type column="6" line="6" name="_unused" static="true" type="int32 x" uriIndex="1"/>
    </namespace>
    <namespace name="com.ibm.streamsx.iot.watson.apps">
      <compositeOp column="18" line="80" name="IotPlatformBluemix" potentialMain="true" public="true" uriIndex="17">
        <parameter defaultValue="getSubmissionTimeValue(&quot;config&quot;)" metaType="Expression" name="_config" optional="true" type="&lt;rstring>"/>
      </compositeOp>
      <compositeOp column="18" line="76" name="IotPlatform" potentialMain="true" public="true" uriIndex="19">
        <parameter defaultValue="getSubmissionTimeValue(&quot;org&quot;)" metaType="Expression" name="org" optional="true" type="&lt;rstring>"/>
        <parameter defaultValue="getSubmissionTimeValue(&quot;domain&quot;, &quot;internetofthings.ibmcloud.com&quot;)" metaType="Expression" name="domain" optional="true" type="&lt;rstring>"/>
        <parameter defaultValue="getSubmissionTimeValue(&quot;authKey&quot;)" metaType="Expression" name="authKey" optional="true" type="&lt;rstring>"/>
        <parameter defaultValue="getSubmissionTimeValue(&quot;authToken&quot;)" metaType="Expression" name="authToken" optional="true" type="&lt;rstring>"/>
        <parameter defaultValue="(boolean)getSubmissionTimeValue(&quot;encrypted&quot;, &quot;true&quot;)" metaType="Expression" name="encrypted" optional="true" type="&lt;boolean>"/>
        <parameter defaultValue="(boolean)getSubmissionTimeValue(&quot;allowFilters&quot;, &quot;true&quot;)" metaType="Expression" name="allowFilters" optional="true" type="&lt;boolean>"/>
        <parameter defaultValue="(int32)getSubmissionTimeValue(&quot;scaleEvents&quot;, &quot;1&quot;)" metaType="Expression" name="scaleEvents" optional="true" type="&lt;int32>"/>
        <parameter defaultValue="(int32)getSubmissionTimeValue(&quot;scaleCommands&quot;, &quot;1&quot;)" metaType="Expression" name="scaleCommands" optional="true" type="&lt;int32>"/>
        <parameter defaultValue="(int32)getSubmissionTimeValue(&quot;scaleStatuses&quot;, &quot;1&quot;)" metaType="Expression" name="scaleStatuses" optional="true" type="&lt;int32>"/>
      </compositeOp>
    </namespace>
    <dependency>
      <common:name>com.ibm.streamsx.mqtt</common:name>
      <common:version>[1.0.0,2.0.0)</common:version>
    </dependency>
    <dependency>
      <common:name>com.ibm.streamsx.json</common:name>
      <common:version>[1.1.1,3.0.0)</common:version>
    </dependency>
    <dependency>
      <common:name>com.ibm.streamsx.datetime</common:name>
      <common:version>[1.1.1,2.0.0)</common:version>
    </dependency>
    <dependency>
      <common:name>com.ibm.streamsx.topology</common:name>
      <common:version>[1.3.0,2.0.0)</common:version>
    </dependency>
    <sabFiles>
      <ti:include path="toolkit.xml" root="toolkitDir"/>
      <ti:include path="impl/java/lib/**" root="toolkitDir"/>
      <ti:include path="impl/java/bin/**" root="toolkitDir"/>
      <ti:include path="impl/bin/**" root="toolkitDir"/>
      <ti:include path="impl/lib/**" root="toolkitDir"/>
      <ti:include path="impl/nl/*.dat" root="toolkitDir"/>
      <ti:include path="etc/**" root="toolkitDir"/>
      <ti:include path="lib/**" root="toolkitDir"/>
      <ti:include path="nl/**" root="toolkitDir"/>
      <ti:include path="opt/**" root="toolkitDir"/>
    </sabFiles>
  </toolkit>

</toolkitModel>
