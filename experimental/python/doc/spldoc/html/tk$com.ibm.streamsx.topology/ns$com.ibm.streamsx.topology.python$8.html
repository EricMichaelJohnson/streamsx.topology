<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="reference"/>
<meta name="DC.Title" content="Python Application API"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="spldoc_page"/>
<link rel="stylesheet" type="text/css" href="../../html/commonltr.css"/>
<link rel="stylesheet" type="text/css" href="../../html/spldoc.css"/>
<title>Python Application API</title>
</head>
<body id="spldoc_page">


<h1 class="title topictitle1">Python Application API</h1>

<div class="body refbody">
<div class="section">
<p class="p">
<a class="xref" href="../toolkits/toolkits.html">Toolkits</a> &gt; <a class="xref" href="tk$com.ibm.streamsx.topology.html">com.ibm.streamsx.topology 1.2.1.experimental</a> &gt; <a class="xref" href="ns$com.ibm.streamsx.topology.python.html">com.ibm.streamsx.topology.python</a> &gt; Python Application API</p>

</div>


<div class="section">
<p class="p">Develop IBM Streams applications with Python.
</p>

<p class="p"><strong class="ph b">Very early experimental version, only very basic functionality</strong>
</p>

<p class="p">This is intended as a preview of the intended direction, functionality is limited.
</p>

</div>

<div class="section"><h2 class="title sectiontitle">Overview
</h2>

<p class="p">A functional api to develop streaming applications for IBM Streams using Python. Streams are defined, transformed and sinked (terminated) using Python functions. The return of a function determines the content of the stream. Tuples on a stream are Python objects, a stream may contain different types of objects.
</p>

</div>

<div class="section"><h2 class="title sectiontitle">Assumptions
</h2>

<div class="p">
<ul class="ul">
<li class="li"> Python 3 is assumed</li>

<li class="li"> Limited testing has been performed with Python 3.5</li>

<li class="li"> Python is installed in the default location (<tt class="ph tt">/usr/local</tt>)</li>

</ul>

</div>

</div>

<div class="section"><h2 class="title sectiontitle">Sample Application
</h2>

<p class="p">Example code that builds and then submits a Hello World topology.
</p>

<div class="p">
<pre class="pre codeblock">
import mymodule;
from streamsx.topology.topology import *
import streamsx.topology.context

topo = Topology("HelloWorld")
hw = topo.source(mymodule.hello_world)
hw.sink(print)
streamsx.topology.context.submit("STANDALONE", topo.graph)
</pre>


</div>

<p class="p">The <tt class="ph tt">source</tt> function is passed a function that returns an <tt class="ph tt">Iterable</tt>, in this case <tt class="ph tt">mymodule.hello_world</tt>.
</p>

<div class="p">
<pre class="pre codeblock">
def hello_world() :
    return ["Hello", "World!"]
</pre>


</div>

<p class="p">The function will be called when the application starts, and the SPL runtime will create an iterator from the returned value. Then each value returned from the iterator will be sent on the stream.
</p>

<p class="p">The <tt class="ph tt">sink</tt> function is passed a function that will be called for each tuple on the stream, in this case the builtin <tt class="ph tt">print</tt> function.
</p>

<p class="p">The functions must be builtins or in a separate module to the module building the topology. The functions must not be dynamically created. The modules containing the function are copied into the Streams Application Bundle (sab file).
</p>

<p class="p">When building the topology the directory <tt class="ph tt">com.ibm.streamsx.topology/opt/python/packages</tt> must be in <tt class="ph tt">$PYTHONPATH</tt>.
</p>

<p class="p">Only submission to STANDALONE is supported, which converts the application to an SPL graph, compiles it and executes it as a IBM Streams standalone application.
</p>

</div>

<div class="section"><h2 class="title sectiontitle">Future Items
</h2>

<p class="p">Future items that need to be supported
</p>

<div class="p">
<ul class="ul">
<li class="li"> <tt class="ph tt">transform()</tt> function on <tt class="ph tt">Stream</tt></li>

<li class="li"> <tt class="ph tt">filter()</tt> function on <tt class="ph tt">Stream</tt></li>

<li class="li"> DISTRIBUTED submission</li>

<li class="li"> lambda functions</li>

<li class="li"> dynamic functions</li>

<li class="li"> functions in packages</li>

<li class="li"> stateful transformations (maybe as classes)</li>

<li class="li"> IBM Streams application features, such as UDP, windowing etc.</li>

<li class="li"> ...</li>

</ul>

</div>

</div>

</div>


</body>
</html>